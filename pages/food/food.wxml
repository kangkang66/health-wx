<!--logs.wxml-->

<view class="cu-bar bg-white solid-bottom">
    <view class="action">
        <text class="cuIcon-title text-green "></text> {{result.name}}
    </view>
    <view class="action">
        <button class="cu-btn bg-white shadow" bindtap="showModal" data-target="RadioModal">{{result.components[unitsCheckedIndex].unit_name}}</button>
    </view>
</view>

<view class="cu-modal  {{modalName=='RadioModal'?'show':''}} bg-white" bindtap="hideModal">
    <view class="cu-dialog">
        <radio-group class="block" bindchange="unitsChange">
            <view class="cu-list menu text-left">
                <view class="cu-item" wx:for="{{result.components}}" wx:key>
                    <label class="flex justify-between align-center flex-sub">
                        <view class="flex-sub">{{item.unit_name}}</view>
                        <radio class="round" value="{{index}}" checked="{{index==0 ? true:false}}"></radio>
                    </label>
                </view>
            </view>
        </radio-group>
    </view>
</view>


<view class="padding flex text-center text-grey bg-white shadow-warp">
    <view class="flex flex-sub flex-direction solid-right">
        <view class="text-xxl text-orange">{{result.components[unitsCheckedIndex].calorie}}</view>
        <view class="margin-top-sm">
            热量(千卡)</view>
    </view>
    <view class="flex flex-sub flex-direction solid-right">
        <view class="text-xxl text-blue">{{result.components[unitsCheckedIndex].fat}}</view>
        <view class="margin-top-sm">
            脂肪(克)</view>
    </view>
    <view class="flex flex-sub flex-direction solid-right">
        <view class="text-xxl text-green">{{result.components[unitsCheckedIndex].carbohydrate}}</view>
        <view class="margin-top-sm">
            碳水物(克)</view>
    </view>
    <view class="flex flex-sub flex-direction">
        <view class="text-xxl text-yellow">{{result.components[unitsCheckedIndex].protein}}</view>
        <view class="margin-top-sm">蛋白质(克)</view>
    </view>
</view>

<view class="cu-bar bg-white solid-bottom margin-top">
    <view class="action">
        <text class="cuIcon-title text-green"></text>热量比例
    </view>
</view>

<view class="padding bg-white shadow-warp">
    <view class="cu-progress radius striped active">
        <view class="bg-blue" style="width:{{result.components[unitsCheckedIndex].fat_calorie_rate}}%;">{{result.components[unitsCheckedIndex].fat_calorie_rate}}%</view>
        <view class="bg-green" style="width:{{result.components[unitsCheckedIndex].carbohydrate_calorie_rate}}%;">{{result.components[unitsCheckedIndex].carbohydrate_calorie_rate}}%</view>
        <view class="bg-yellow" style="width:{{result.components[unitsCheckedIndex].protein_calorie_rate}}%;">{{result.components[unitsCheckedIndex].protein_calorie_rate}}%</view>
    </view>
</view>

<form bindsubmit="formSubmit">
    <view class="cu-form-group margin-top">
        <view class="title">餐类</view>
        <picker name="eat_type" value="{{eatTypeIndex}}" bindchange="eatTypeChange" range="{{eatTypes}}">
            <view class="picker">
            {{eatTypes[eatTypeIndex]}}
            </view>
        </picker>
    </view>

    <view class="cu-form-group">
        <view class="title">食用时间</view>
        <picker mode="time" name="eat_time" value="{{time}}" start="06:00" end="23:00" bindchange="TimeChange">
            <view class="picker">
                {{time}}
            </view>
        </picker>
    </view>

    <view class="cu-form-group">
        <view class="title">食用数量</view>
        <picker name="eat_num" value="{{eatNumIndex}}" bindchange="eatNumChange" range="{{eatNums}}">
            <view class="picker">
                {{eatNums[eatNumIndex]}}
            </view>
        </picker>
    </view>


<view class="cu-bar bg-white tabbar border shop">
    <view class="btn-group">
        <button class="cu-btn bg-green round shadow-blur" form-type="submit">记录食用</button>
    </view>
</view>
</form>
